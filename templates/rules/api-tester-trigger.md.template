# API Tester Trigger Rules

## When to Use API Tester

Automatically use the API Tester project when:

1. **User mentions "api-tester"** - Any mention of api-tester, API tester, or similar
2. **User pastes a curl command** - Detected by `curl '...` or `curl "...` pattern
3. **User wants to test an API endpoint** - Phrases like "test this API", "call this endpoint"
4. **User mentions API URLs** - Any of these domains:
{{URL_DOMAINS_LIST}}

## API Tester Location

```
{{API_TESTER_PATH}}
```

## Curl Paste Workflow

When user pastes a curl command:

1. **Parse curl** - Extract URL, method, headers, body, and token
2. **Detect environment** from URL domain
3. **Save token** to `config/tokens/<env>.json`
4. **Execute using script** - ALWAYS use `./scripts/request.sh` instead of raw curl
5. **Response auto-saved** to `responses/<env>/<endpoint>-<METHOD>.json`

### Execute Request Command

```bash
cd {{API_TESTER_PATH}}
./scripts/request.sh <METHOD> <ENDPOINT> '<BODY>'
```

### Example

User pastes:

```
curl 'https://{{DEFAULT_API_DOMAIN}}/api/v1/login' -d '{"email":"test@example.com"}'
```

Claude should:

```bash
# 1. Save token (if present in curl)
# 2. Execute via script
cd {{API_TESTER_PATH}}
./scripts/request.sh POST /api/v1/login '{"email":"test@example.com"}'
```

## Important

- **NEVER** run raw curl commands for project APIs
- **ALWAYS** use `./scripts/request.sh` to ensure responses are saved
- **ALWAYS** save tokens to the appropriate environment file before executing
